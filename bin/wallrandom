#!/bin/bash
# Set a random wallpaper on a screen

## Directories
regular_dir=/data/others/wallpapers/regular
wide_dir=/data/others/wallpapers/wide

## Figure out size
width=$(xrandr -q | head -n 1 | sed 's/^.*current \([0-9]*\) x.*$/\1/')

if test $width = "2048" -o $width = "1440"; then
    dir=$wide_dir
else
    dir=$regular_dir
fi

## Commands
file=$(find $dir -regextype 'posix-extended' -iregex '.*\.(png|jpg)' | sort -R | tail -1)
feh --bg-scale $file
